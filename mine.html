<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æˆ‘çš„ - AIç©å…·å°ç¨‹åº</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .phone-container {
            width: 375px;
            height: 812px;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #1a1a2e 0%, #000 100%);
            border-radius: 32px;
            overflow: hidden;
            position: relative;
        }

        .status-bar {
            height: 44px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
            color: #fff;
        }

        .header {
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
            color: #fff;
            position: relative;
        }

        .header-title {
            font-size: 18px;
            font-weight: 500;
        }

        .header-right {
            position: absolute;
            right: 20px;
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .header-icon {
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #fff;
        }

        .content {
            padding: 20px;
            height: calc(100% - 88px - 50px);
            overflow-y: auto;
            color: #fff;
        }

        .info-section {
            background: #2a2a3e;
            border-radius: 16px;
            padding: 0;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .info-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            border-bottom: 1px solid #3a3a4e;
            cursor: pointer;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-size: 15px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .info-value {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 15px;
            color: #ccc;
        }

        .avatar-img {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: linear-gradient(135deg, #FF8C42 0%, #FFA366 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            object-fit: cover;
        }

        .arrow-icon {
            font-size: 16px;
            color: #999;
        }

        .help-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #666;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            cursor: pointer;
        }

        .settings-section {
            margin-bottom: 20px;
        }

        .settings-title {
            font-size: 14px;
            color: #999;
            margin-bottom: 10px;
            padding: 0 5px;
        }

        .settings-card {
            background: #2a2a3e;
            border-radius: 16px;
            padding: 0;
            overflow: hidden;
        }

        .settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            border-bottom: 1px solid #3a3a4e;
            cursor: pointer;
        }

        .settings-item:last-child {
            border-bottom: none;
        }

        .settings-label {
            font-size: 15px;
            color: #fff;
        }

        .settings-value {
            font-size: 14px;
            color: #999;
        }

        .logout-btn {
            width: 100%;
            height: 50px;
            background: #2a2a3e;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 20px;
            border: none;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: #3a3a4e;
        }

        .nav-bar {
            height: 50px;
            background: rgba(0,0,0,0.3);
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px 0;
            color: #999;
            cursor: pointer;
        }

        .nav-item.active {
            color: #fff;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
            background: currentColor;
            border-radius: 4px;
        }

        .nav-text {
            font-size: 11px;
        }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            background: #2a2a3e;
            border-radius: 20px 20px 0 0;
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            box-sizing: border-box;
        }

        .modal.show {
            display: block;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 500;
            color: #fff;
        }

        .modal-close {
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 20px;
            text-align: center;
            line-height: 24px;
            color: #fff;
        }

        .avatar-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .avatar-option {
            padding: 15px;
            background: #3a3a4e;
            border-radius: 12px;
            text-align: center;
            color: #fff;
            cursor: pointer;
            font-size: 16px;
        }

        .gender-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .gender-option {
            padding: 15px;
            background: #3a3a4e;
            border-radius: 12px;
            text-align: center;
            color: #fff;
            cursor: pointer;
            font-size: 16px;
        }

        .gender-option.selected {
            background: #FF8C42;
        }

        .date-picker {
            padding: 15px;
            background: #3a3a4e;
            border-radius: 12px;
        }

        .date-input {
            width: 100%;
            padding: 12px;
            background: #2a2a3e;
            border: 1px solid #3a3a4e;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            outline: none;
        }

        .help-content {
            padding: 20px;
            color: #fff;
            line-height: 1.8;
        }

        .help-section {
            margin-bottom: 25px;
        }

        .help-section-title {
            font-size: 16px;
            font-weight: 500;
            color: #fff;
            margin-bottom: 12px;
        }

        .help-item {
            font-size: 14px;
            color: #ccc;
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .help-item::before {
            content: 'â€¢';
            position: absolute;
            left: 8px;
            color: #FF8C42;
        }

        .help-sub-item {
            font-size: 13px;
            color: #999;
            margin-top: 5px;
            padding-left: 20px;
        }

        .help-contact {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #3a3a4e;
        }

        .help-contact-title {
            font-size: 16px;
            font-weight: 500;
            color: #fff;
            margin-bottom: 10px;
        }

        .help-contact-text {
            font-size: 14px;
            color: #ccc;
            line-height: 1.8;
        }

        .help-contact-email {
            color: #FF8C42;
        }

        /* æ˜µç§°ç¼–è¾‘å¼¹çª— */
        .nickname-modal {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            background: #2a2a3e;
            border-radius: 20px 20px 0 0;
            padding: 20px;
            z-index: 1000;
            display: none;
            box-sizing: border-box;
        }

        .nickname-modal.show {
            display: block;
        }

        .nickname-input {
            width: 100%;
            padding: 12px;
            background: #1a1a2e;
            border: 1px solid #3a3a4e;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            outline: none;
            margin-bottom: 15px;
        }

        .nickname-buttons {
            display: flex;
            gap: 10px;
        }

        .nickname-btn {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 16px;
            cursor: pointer;
            border: none;
        }

        .nickname-btn-cancel {
            background: #3a3a4e;
            color: #fff;
        }

        .nickname-btn-save {
            background: #FF8C42;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <div class="status-bar">
                <span>13:04</span>
                <span>ğŸ”‹ 100%</span>
            </div>
            
            <div class="header">
                <div class="header-title">æˆ‘çš„</div>
                <div class="header-right">
                    <div class="header-icon">â‹¯</div>
                    <div class="header-icon">â—</div>
                </div>
            </div>

            <div class="content">
                <div class="info-section">
                    <div class="info-item" onclick="showAvatarOptions()">
                        <div class="info-label">å¤´åƒ</div>
                        <div class="info-value">
                            <img class="avatar-img" id="avatarImg" src="" alt="å¤´åƒ" style="display: none;">
                            <div class="avatar-img" id="avatarPlaceholder">ğŸ±</div>
                            <span class="arrow-icon">></span>
                        </div>
                    </div>
                    <div class="info-item" onclick="editNickname()">
                        <div class="info-label">
                            æ˜µç§°
                            <span class="help-icon" onclick="event.stopPropagation(); showNicknameHelp()">?</span>
                        </div>
                        <div class="info-value">
                            <span id="nickname">é«˜å†·çš„ä¸œå¡è‚‰</span>
                            <span class="arrow-icon">></span>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">UID</div>
                        <div class="info-value">
                            <span>jd_ruRfjUIDVXAQ</span>
                        </div>
                    </div>
                    <div class="info-item" onclick="showGenderOptions()">
                        <div class="info-label">æ€§åˆ«</div>
                        <div class="info-value">
                            <span id="gender">æœªçŸ¥</span>
                            <span class="arrow-icon">></span>
                        </div>
                    </div>
                    <div class="info-item" onclick="showDatePicker()">
                        <div class="info-label">ç”Ÿæ—¥</div>
                        <div class="info-value">
                            <span id="birthday"></span>
                            <span class="arrow-icon">></span>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">å…¶ä»–è®¾ç½®</div>
                    <div class="settings-card">
                        <div class="settings-item" onclick="window.location.href='device-manage.html'">
                            <div class="settings-label">è®¾å¤‡ç®¡ç†</div>
                            <div class="settings-value">
                                <span class="arrow-icon">></span>
                            </div>
                        </div>
                        <div class="settings-item" onclick="window.location.href='help.html'">
                            <div class="settings-label">å¸®åŠ©ä¸å®¢æœ</div>
                            <div class="settings-value">
                                <span class="arrow-icon">></span>
                            </div>
                        </div>
                        <div class="settings-item">
                            <div class="settings-label">ç‰ˆæœ¬å·</div>
                            <div class="settings-value">1.0.28</div>
                        </div>
                    </div>
                </div>

                <button class="logout-btn" onclick="handleLogout()">é€€å‡ºç™»å½•</button>
            </div>

            <div class="nav-bar">
                <div class="nav-item" onclick="window.location.href='pairing-set.html'">
                    <div class="nav-icon"></div>
                    <div class="nav-text">ä¼™ä¼´</div>
                </div>
                <div class="nav-item" onclick="window.location.href='theater.html'">
                    <div class="nav-icon"></div>
                    <div class="nav-text">å‰§åœº</div>
                </div>
                <div class="nav-item" onclick="window.location.href='growth.html'">
                    <div class="nav-icon"></div>
                    <div class="nav-text">æˆé•¿</div>
                </div>
                <div class="nav-item active">
                    <div class="nav-icon"></div>
                    <div class="nav-text">æˆ‘çš„</div>
                </div>
            </div>

            <!-- å¤´åƒé€‰æ‹©å¼¹çª— -->
            <div class="modal" id="avatarModal">
                <div class="modal-header">
                    <div class="modal-title">é€‰æ‹©å¤´åƒ</div>
                    <div class="modal-close" onclick="closeModal('avatarModal')">Ã—</div>
                </div>
                <div class="avatar-options">
                    <div class="avatar-option" onclick="selectAvatar('camera')">æ‹ç…§</div>
                    <div class="avatar-option" onclick="selectAvatar('album')">ä»æ‰‹æœºç›¸å†Œé€‰æ‹©</div>
                    <div class="avatar-option" onclick="closeModal('avatarModal')" style="margin-top: 10px; border-top: 1px solid #3a3a4e; padding-top: 15px;">å–æ¶ˆ</div>
                </div>
            </div>

            <!-- æ€§åˆ«é€‰æ‹©å¼¹çª— -->
            <div class="modal" id="genderModal">
                <div class="modal-header">
                    <div class="modal-title">é€‰æ‹©æ€§åˆ«</div>
                    <div class="modal-close" onclick="closeModal('genderModal')">Ã—</div>
                </div>
                <div class="gender-options">
                    <div class="gender-option" onclick="selectGender('ç”·')">ç”·</div>
                    <div class="gender-option" onclick="selectGender('å¥³')">å¥³</div>
                    <div class="gender-option" onclick="selectGender('å…¶ä»–')">å…¶ä»–</div>
                </div>
            </div>

            <!-- æ—¥æœŸé€‰æ‹©å¼¹çª— -->
            <div class="modal" id="dateModal">
                <div class="modal-header">
                    <div class="modal-title">é€‰æ‹©ç”Ÿæ—¥</div>
                    <div class="modal-close" onclick="closeModal('dateModal')">Ã—</div>
                </div>
                <div class="date-picker">
                    <input type="date" class="date-input" id="birthdayInput" onchange="selectBirthday()">
                </div>
            </div>


            <!-- æ˜µç§°ç¼–è¾‘å¼¹çª— -->
            <div class="nickname-modal" id="nicknameModal">
                <div class="modal-header">
                    <div class="modal-title">ä¿®æ”¹æ˜µç§°</div>
                    <div class="modal-close" onclick="closeModal('nicknameModal')">Ã—</div>
                </div>
                <input type="text" class="nickname-input" id="nicknameInput" placeholder="è¯·è¾“å…¥æ˜µç§°" maxlength="20">
                <div class="nickname-buttons">
                    <button class="nickname-btn nickname-btn-cancel" onclick="closeModal('nicknameModal')">å–æ¶ˆ</button>
                    <button class="nickname-btn nickname-btn-save" onclick="saveNickname()">ä¿å­˜</button>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFileSelect(event)">

    <script>
        // æ˜¾ç¤ºå¤´åƒé€‰æ‹©
        function showAvatarOptions() {
            document.getElementById('avatarModal').classList.add('show');
        }

        // é€‰æ‹©å¤´åƒæ–¹å¼
        function selectAvatar(type) {
            if (type === 'camera') {
                // è°ƒç”¨ç›¸æœº
                document.getElementById('fileInput').setAttribute('capture', 'environment');
                document.getElementById('fileInput').click();
            } else if (type === 'album') {
                // ä»ç›¸å†Œé€‰æ‹©
                document.getElementById('fileInput').removeAttribute('capture');
                document.getElementById('fileInput').click();
            }
            closeModal('avatarModal');
        }

        // å¤„ç†æ–‡ä»¶é€‰æ‹©
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const avatarImg = document.getElementById('avatarImg');
                    const avatarPlaceholder = document.getElementById('avatarPlaceholder');
                    avatarImg.src = e.target.result;
                    avatarImg.style.display = 'block';
                    avatarPlaceholder.style.display = 'none';
                    // ä¿å­˜åˆ°localStorage
                    localStorage.setItem('avatar', e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }

        // æ˜¾ç¤ºæ˜µç§°å¸®åŠ©
        function showNicknameHelp() {
            alert('å°æœ‹å‹çš„æ˜µç§°');
        }

        // ç¼–è¾‘æ˜µç§°
        function editNickname() {
            const currentNickname = document.getElementById('nickname').textContent;
            document.getElementById('nicknameInput').value = currentNickname;
            document.getElementById('nicknameModal').classList.add('show');
        }

        // ä¿å­˜æ˜µç§°
        function saveNickname() {
            const newNickname = document.getElementById('nicknameInput').value.trim();
            if (newNickname) {
                document.getElementById('nickname').textContent = newNickname;
                localStorage.setItem('nickname', newNickname);
                closeModal('nicknameModal');
            } else {
                alert('æ˜µç§°ä¸èƒ½ä¸ºç©º');
            }
        }

        // æ˜¾ç¤ºæ€§åˆ«é€‰æ‹©
        function showGenderOptions() {
            document.getElementById('genderModal').classList.add('show');
        }

        // é€‰æ‹©æ€§åˆ«
        function selectGender(gender) {
            document.getElementById('gender').textContent = gender;
            localStorage.setItem('gender', gender);
            closeModal('genderModal');
        }

        // æ˜¾ç¤ºæ—¥æœŸé€‰æ‹©
        function showDatePicker() {
            const savedBirthday = localStorage.getItem('birthday');
            if (savedBirthday) {
                document.getElementById('birthdayInput').value = savedBirthday;
            }
            document.getElementById('dateModal').classList.add('show');
        }

        // é€‰æ‹©ç”Ÿæ—¥
        function selectBirthday() {
            const birthday = document.getElementById('birthdayInput').value;
            if (birthday) {
                const date = new Date(birthday);
                const formattedDate = `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
                document.getElementById('birthday').textContent = formattedDate;
                localStorage.setItem('birthday', birthday);
            }
            closeModal('dateModal');
        }

        // å…³é—­å¼¹çª—
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // é€€å‡ºç™»å½•
        function handleLogout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                localStorage.clear();
                alert('å·²é€€å‡ºç™»å½•');
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤æ•°æ®
        window.addEventListener('DOMContentLoaded', function() {
            // æ¢å¤å¤´åƒ
            const savedAvatar = localStorage.getItem('avatar');
            if (savedAvatar) {
                const avatarImg = document.getElementById('avatarImg');
                const avatarPlaceholder = document.getElementById('avatarPlaceholder');
                avatarImg.src = savedAvatar;
                avatarImg.style.display = 'block';
                avatarPlaceholder.style.display = 'none';
            }

            // æ¢å¤æ€§åˆ«
            const savedGender = localStorage.getItem('gender');
            if (savedGender) {
                document.getElementById('gender').textContent = savedGender;
            }

            // æ¢å¤ç”Ÿæ—¥
            const savedBirthday = localStorage.getItem('birthday');
            if (savedBirthday) {
                const date = new Date(savedBirthday);
                const formattedDate = `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
                document.getElementById('birthday').textContent = formattedDate;
            }

            // æ¢å¤æ˜µç§°
            const savedNickname = localStorage.getItem('nickname');
            if (savedNickname) {
                document.getElementById('nickname').textContent = savedNickname;
            }
        });
    </script>
</body>
</html>